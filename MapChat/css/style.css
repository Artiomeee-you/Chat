/* style.css */

/* в секции .screens */
.screens {
    display: flex;
    width: 300vw;   /* 3 экрана по 100vw */
    height: 100vh;
    transition: transform 0.3s ease;
    overflow: hidden;    /* ← запретить прокрутку */
  }
  
  /* у карты убрать фокусный outline */
  .map-container:focus {
    outline: none;
  }
  
/* Поместить в ваш style.css или внутрь <style> */

/* 1. Сделать header фиксированным и по центру */
#header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 60px;               /* подберите нужную высоту */
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg-dark); /* или любой цвет фона */
    color: #fff;                /* цвет текста */
    font-size: 1.25rem;
    font-weight: bold;
    z-index: 1000;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    transition: background .3s, color .3s;
  }
  
  /* 2. В светлой теме — светлый фон и тёмный текст */
  body:not(.dark-theme) #header {
    background: var(--bg-light);
    color: var(--text-light);
  }
  
  /* 3. Отступ сверху для контента, чтобы не скрывался под header */
  body {
    padding-top: 60px; /* должен совпадать с height у #header */
  }
  
  /* 4. Уменьшаем высоту .screens, чтобы не было вертикальной прокрутки под header */
  .screens {
    margin-top: 0; /* margin уже учтён через body padding */
    height: calc(100vh - 60px); /* общая высота минус header */
  }

  
:root {
    --primary:   #4f46e5;    /* основной акцент */
    --bg-light:  #fafafa;    /* фон светлой темы */
    --text-light:#333;       /* текст в светлой теме */
    --bg-dark:   #2a2a3d;    /* фон тёмной темы */
    --text-dark: #eee;       /* текст в тёмной теме */
  }
  
  /* Оставляем место под панель */
  body {
    padding-bottom: 60px;  /* высота панели */
  }
  
  /* Сама панель */
  .nav-buttons {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 60px;
    display: flex;
    background: var(--bg-light);
    border-top: 1px solid #e0e0e0;
    box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
    z-index: 1000;
    transition: background .3s, border-color .3s, box-shadow .3s;
  }
  
  /* Тёмная тема */
  body.dark-theme .nav-buttons {
    background: var(--bg-dark);
    border-top-color: #444;
    box-shadow: 0 -2px 5px rgba(0,0,0,0.3);
  }
  
  /* Кнопки */
  .nav-buttons button {
    flex: 1;
    border: none;
    background: none;
    font-size: 1rem;
    color: var(--text-light);
    cursor: pointer;
    transition: background .2s, color .2s;
  }
  
  /* Цвета в тёмной теме */
  body.dark-theme .nav-buttons button {
    color: var(--text-dark);
  }
  
  /* Активная кнопка */
  .nav-buttons button.active {
    background: var(--primary);
    color: #fff;
  }
  
  /* Hover для неактивных */
  .nav-buttons button:hover:not(.active) {
    background: rgba(0,0,0,0.05);
  }
  body.dark-theme .nav-buttons button:hover:not(.active) {
    background: rgba(255,255,255,0.05);
  }
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f9f9f9;
    color: #333;
  }
  .screen h2 {
    margin-top: 0;
    margin-bottom: 16px;
    font-size: 1.5rem;
  }
  .feature {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    margin-bottom: 12px;
    background: #f0f0ff;
    border-radius: 8px;
  }
  .badge {
    background: var(--primary);
    color: #fff;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: .85rem;
  }
  .toggle {
    display: flex;
    background: #ddd;
    border-radius: 8px;
  }
  .toggle-btn {
    flex: 1;
    padding: 8px;
    border: none;
    background: none;
    cursor: pointer;
    color: #333;
  }
  .toggle-btn.active {
    background: var(--primary);
    color: #fff;
  }
  .color-options {
    display: flex;
    gap: 8px;
    margin-top: 8px;
  }
  .color-square {
    width: 24px;
    height: 24px;
    border-radius: 4px;
    cursor: pointer;
    border: 2px solid transparent;
  }
  .color-square.selected {
    border-color: #000;
  }
  .light-green  { background: #6ee7b7; }
  .dark-green   { background: #047857; }
  .light-blue   { background: #93c5fd; }
  .dark-blue    { background: #1e3a8a; }
  .light-purple { background: #d8b4fe; }
  .dark-purple  { background: #5b21b6; }
  
  /* карта */
  .map-container { position: relative; }
  #map { width: 100%; height: 100%; }
  
  /* профиль */
  #profile select,
  #profile input,
  #profile textarea {
    width: 100%;
    margin-bottom: 12px;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-size: 1rem;
  }
  #saveProfile {
    display: block;
    width: 100%;
    padding: 12px;
    border: none;
    border-radius: 8px;
    background: var(--primary);
    color: #fff;
    font-size: 1rem;
    cursor: pointer;
  }
  #saveProfile:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
  .nav-buttons {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    display: flex;
    background: #fff;
    border-top: 1px solid #ddd;
    z-index: 100;   /* достаточно высокий, чтобы быть над .screens */
  }
  /* тёмная тема */
  body.dark-theme {
    background: #1e1e2a;
    color: #eee;
  }
  body.dark-theme .feature {
    background: #3a3a50;
  }
  body.dark-theme .toggle {
    background: #444;
  }
  body.dark-theme .toggle-btn {
    color: #eee;
  }

  .screen {
    position: relative;
  }

  #header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 60px;
    z-index: 1000;
  }
  
  /* теперь контейнер экранов задаём не через height:100vh, а через top/bottom */
  .screens {
    position: absolute;
    top: 60px;    /* сразу под шапкой */
    bottom: 0;
    left: 0;
    right: 0;
    display: flex;
    transform: translateX(0);
    transition: transform 0.3s ease;
    /* скроллим только внутри экранов, а не всей страницы */
    overflow: hidden;
  }
  .nav-buttons {
    z-index: 1000;
  }
  
  /* overlay covers entire section, but ignores clicks */
  .overlay {
    pointer-events: none;
  }
  
  /* only the button inside overlay still receives clicks */
  .overlay button {
    pointer-events: auto;
  }

  .chat-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: none;           /* по умолчанию скрыт */
    z-index: 500;            /* над картой, но под меню */
    flex-direction: column;
    background: rgba(255,255,255,0.9);
    padding: 16px;
  }

  .chat-overlay .chat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    background: #fff;
    border-bottom: 1px solid #ccc;
    font-weight: bold;
  }
  
  .chat-overlay .chat-header button {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 0.9rem;
    color: #333;
    padding: 4px 8px;
    border-radius: 4px;
    transition: background .2s;
  }
  .chat-overlay .chat-header button:hover {
    background: rgba(0,0,0,0.05);
  }
  
  /* контейнер сообщений */
  .chat-overlay #messages {
    flex: 1;
    overflow-y: auto;
    padding: 8px;
    background: #f9f9f9;
  }
  
  /* поле ввода + кнопка */
  .chat-overlay .chat-input {
    display: flex;
    border-top: 1px solid #ccc;
    padding: 8px;
    background: #fff;
  }
  .chat-overlay .chat-input input {
    flex: 1;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    outline: none;
  }
  .chat-overlay .chat-input button {
    margin-left: 8px;
    padding: 8px 12px;
    border: none;
    background: var(--primary);
    color: #fff;
    border-radius: 4px;
    cursor: pointer;
  }

  /* стили для пузырей сообщений */
.chat-overlay .message {
    max-width: 70%;
    margin: 4px;
    padding: 8px;
    border-radius: 12px;
    clear: both;
    word-wrap: break-word;
  }
  .chat-overlay .message.me {
    background: var(--primary);
    color: #fff;
    float: right;
    text-align: right;
  }
  .chat-overlay .message.peer {
    background: #e5e5ea;
    color: #000;
    float: left;
    text-align: left;
  }
  

  /* 1) Pin the header */
#header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 60px;              /* match whatever height your <header> actually is */
    z-index: 1000;             /* sit above everything else */
  }
  
  /* 2) Push the body content down so it doesn’t hide under the header */
  body {
    padding-top: 60px;         /* same 60px as your header height */
    padding-bottom: 60px;      /* see footer below */
  }
  
  /* 3) Pin the nav-buttons (footer) */
  .nav-buttons {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 60px;              /* same as your header, but at bottom */
    z-index: 1000;             /* above the .screens panels */
  }
  
  /* 4) Constrain your “three-screen” container to the space between header & footer */
  .screens {
    position: absolute;        /* instead of height:100vh */
    top:    60px;              /* push it below the fixed header */
    bottom: 60px;              /* leave room above the fixed footer */
    left:   0;
    right:  0;
    display: flex;
    overflow: hidden;          /* no double-scrollbars */ 
    transition: transform 0.3s ease;
  }

/* выдвигающаяся панель */
.slide-panel {
    position: fixed;
    top: 60px;          /* высота header */
    bottom: 60px;       /* высота footer */
    right: 0;
    width: 250px;
    background: var(--bg-light);
    box-shadow: -2px 0 6px rgba(0,0,0,0.2);
    transform: translateX(100%);
    transition: transform .3s ease;
    z-index: 1002;
    padding: 16px;
    overflow-y: auto;
  }
  body.dark-theme .slide-panel {
    background: var(--bg-dark);
    color: var(--text-dark);
  }
  
  /* открытое состояние */
  .slide-panel.open {
    transform: translateX(0);
  }
  
  /* «Закрыть» */
  #closeBlocked {
    margin-top: 16px;
    width: 100%;
    padding: 8px;
    border: none;
    background: var(--primary);
    color: #fff;
    border-radius: 4px;
    cursor: pointer;
  }
  /* внутри .slide-panel ul */
.slide-panel ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .slide-panel .blocked-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
  }
  .slide-panel .blocked-time {
    font-size: .75rem;
    color: #666;
    margin-left: 8px;
  }
  .slide-panel .unblock-btn {
    margin-left: 8px;
    padding: 4px 8px;
    border: none;
    background: #e53e3e;
    color: #fff;
    border-radius: 4px;
    cursor: pointer;
  }

  .request-btn,
  .accept-btn,
  .decline-btn,
  #exitChat,
  #blockChat {
  cursor: pointer;
}
  